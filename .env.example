# Chat Application Configuration
# Copy this file to .env and modify as needed

# =============================================================================
# SSL Configuration
# =============================================================================

# HTTP/HTTPS ports (used with ssl-custom and ssl-letsencrypt profiles)
HTTP_PORT=80
HTTPS_PORT=443

# Domain name for SSL certificate
DOMAIN=localhost

# Let's Encrypt email (required for ssl-letsencrypt profile)
LETSENCRYPT_EMAIL=admin@example.com

# =============================================================================
# Database
# =============================================================================

POSTGRES_DB=chatapp
POSTGRES_USER=chatapp
POSTGRES_PASSWORD=secret

# =============================================================================
# Security
# =============================================================================

JWT_SECRET=your-super-secret-jwt-key-change-in-production
CENTRIFUGO_SECRET=your-centrifugo-secret-key-change-in-production
CENTRIFUGO_API_KEY=centrifugo-api-key

# =============================================================================
# RabbitMQ
# =============================================================================

RABBITMQ_USER=chatapp
RABBITMQ_PASSWORD=secret

# =============================================================================
# FreeSWITCH
# =============================================================================

FREESWITCH_ESL_PASSWORD=ClueCon
FREESWITCH_DOMAIN=chatapp.local

# External RTP IP for WebRTC (required for Firefox compatibility)
# Options:
#   - auto: FreeSWITCH auto-detects IP (default, works for most cases)
#   - <IP address>: Set specific IP (e.g., 192.168.1.100 for local network)
# For local development, use 'auto' or your machine's local network IP
EXTERNAL_RTP_IP=auto

# =============================================================================
# TURN Server
# =============================================================================

TURN_URLS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302
TURN_USERNAME=chatapp
TURN_CREDENTIAL=chatapp_turn_secret

# =============================================================================
# Message Retention (Soft Delete)
# =============================================================================

# Number of days to keep deleted messages before permanent deletion
MESSAGE_RETENTION_DAYS=30

# Batch size for cleanup job (number of messages per batch)
CLEANUP_BATCH_SIZE=100

# Set to true to test cleanup without deleting anything
CLEANUP_DRY_RUN=false
