<?xml version="1.0" encoding="utf-8"?>
<include>
  <context name="default">
    
    <!-- Conference extension -->
    <extension name="conference">
      <condition field="destination_number" expression="^conf_(.*)$">
        <action application="answer"/>
        <action application="conference" data="$1@default"/>
      </condition>
    </extension>

    <!-- Private conference extension -->
    <extension name="private_conference">
      <condition field="destination_number" expression="^private_(.*)$">
        <action application="answer"/>
        <action application="conference" data="$1@private"/>
      </condition>
    </extension>

    <!-- Direct call to user -->
    <extension name="user_call">
      <condition field="destination_number" expression="^user_(.*)$">
        <action application="bridge" data="verto/$1@chatapp.local"/>
      </condition>
    </extension>

    <!-- Echo test -->
    <extension name="echo">
      <condition field="destination_number" expression="^9196$">
        <action application="answer"/>
        <action application="echo"/>
      </condition>
    </extension>

    <!-- Delay echo test -->
    <extension name="delay_echo">
      <condition field="destination_number" expression="^9195$">
        <action application="answer"/>
        <action application="delay_echo" data="5000"/>
      </condition>
    </extension>

  </context>
</include>
